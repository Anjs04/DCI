<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script src="js/plotly-latest.min.js" type="text/javascript" ></script>
	<script src="js/papaparse.min.js" type="text/javascript" ></script>

	<script>

	var data, keys, pjs;
	var ages;

	$(document).ready(function() {
		var labelled = "data/sample_values_labelled.csv"
		var melted = "data/sample_values_melted.csv"

		// Parse local CSV file
		Papa.parse(labelled, {
			download: true,
			header: true,
			complete: function(results) {
				data = results.data;
				keys = Object.keys( results.data[ 0 ] );
				ages = obtainIntProperty("Age");
				console.log(ages);
				drawPlot();
			}
		});

	});

	var obtainIntProperty = function( propName ) {

		return data.map( d => { return parseInt( d[ propName ] ); } ).filter( d => { return !isNaN( d ); } ).sort();

	};

	var drawPlot = function() {
		TESTER = document.getElementById('tester');
		Plotly.plot( TESTER, [ {
				x: ages,
				type: 'histogram'
			}]
		);
	};


	</script>
	<link rel="stylesheet" type="text/css" href="css/dci.css"/>
</head>
<body>

	<div id="tester" style="width:600px;height:250px;"></div>

</body>
</html>